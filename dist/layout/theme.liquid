{%- comment -%} 
Poches et Fils theme 
Version: 1.0.0
Configured 2018
- Added Google Font Rubik
- Added Stylesheet Dependencies for Tables/Columns/Flex Boxes etc
- Added 'on touch' JS which interfaces mobile pgones.
- Added custom JS which imports product API
{%- endcomment -%}
<!doctype html> 
<!--[if IE 9]> <html class="ie9 no-js supports-no-cookies" lang="{{ shop.locale }}"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js supports-no-cookies" lang="{{ shop.locale }}"> <!--<![endif]-->
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Rubik:300,regular,500,700,900"]  }});</script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  

  {{ 'functions.js' | asset_url | script_tag }}
  {%- comment -%} Adds Google Font Rubik {%- endcomment -%}
  <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/mikhailarden/Shopify-OpenSource/master/Theme%20Dependenices/components.css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js" type="text/javascript"></script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png" rel="apple-touch-icon">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="{{ settings.color_primary }}">
  <link rel="canonical" href="{{ canonical_url }}">
  {% if settings.favicon != blank %}
  <link rel="shortcut icon" href="{{ settings.favicon | img_url: '32x32' }}" type="image/png">
  {% endif %}
  {% capture seo_title %}
  {{ page_title }}
  {% if current_tags %}
  {%- assign meta_tags = current_tags | join: ', ' %} &ndash; {{ 'general.meta.tags' | t: tags: meta_tags -}}
  {% endif %}
  {% if current_page != 1 %}
  &ndash; {{ 'general.meta.page' | t: page: current_page }}
  {% endif %}
  {% unless page_title contains shop.name %}
  &ndash; {{ shop.name }}
  {% endunless %}
  {% endcapture %}
  <title>{{ seo_title }}</title>
  {% if page_description %}
  <meta name="description" content="{{ page_description | escape }}">
  {% endif %}
  {% include 'social-meta-tags' %}
  {{ 'theme.css' | asset_url | stylesheet_tag }}
  {{ 'theme.scss.css' | asset_url | stylesheet_tag }}
  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    window.theme = {
      strings: {
        addToCart: {{ 'products.product.add_to_cart' | t | json }},
        soldOut: {{ 'products.product.sold_out' | t | json }},
        unavailable: {{ 'products.product.unavailable' | t | json }}
      },
      moneyFormat: {{ shop.money_format | json }}
    };
  </script>
  {% if template.directory == 'customers' %}
  <!--[if (gt IE 9)|!(IE)]><!--><script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer="defer"></script><!--<![endif]-->
  <!--[if lte IE 9]><script src="{{ 'shopify_common.js' | shopify_asset_url }}"></script><![endif]-->
  {% endif %}
  <!--[if (gt IE 9)|!(IE)]><!--><script src="{{ 'vendor.js' | asset_url }}" defer="defer"></script><!--<![endif]-->
  <!--[if lt IE 9]><script src="{{ 'vendor.js' | asset_url }}"></script><![endif]-->
  <!--[if (gt IE 9)|!(IE)]><!--><script src="{{ 'theme.js' | asset_url }}" defer="defer"></script><!--<![endif]-->
  <!--[if lt IE 9]><script src="{{ 'theme.js' | asset_url }}"></script><![endif]-->
  {{ content_for_header }}
</head>
<body id="{{ page_title | handle }}" class="template-{{ template.name | handle }}">
  <a class="in-page-link visually-hidden skip-link" 
     href="#MainContent">
    {{ 'general.accessibility.skip_to_content' | t }}
  </a>
  {% section 'header' %}
  
  {% include 'newsletter--popup' %}
  <main role="main" id="MainContent">
    <div class="dark-overlay"></div>
    <div id="CartHolder" style="position: relative; z-index: 1000"></div>
    {{ content_for_layout }}
  </main>

  {% section 'footer' %}

  {{ 'ajaxify.min.js' | asset_url | script_tag }}
  {{ 'toggle-handler.js' | asset_url | script_tag }}

  <script>
    $(document).ready(_ => {
      if (!localStorage.storeCurrency) {
        localStorage.storeCurrency = `{{ shop.currency }}`
      }
    })

    const formatCurrency = amount => {
      amount = amount.toString()
      const pos = amount.length-2
      amount = `${amount.slice(0, pos)}.${amount.slice(pos)}`
      amount = new Intl.NumberFormat("en-US", {'maximumSignificantDigits': 2}).format(parseFloat(amount))
      return `${localStorage.storeCurrency} $${amount}`
    }
  </script>

  {{ 'random-color.js' | asset_url | script_tag }}
  {{ 'random-model-image.js' | asset_url | script_tag }}
  {{ 'parse-urlparams.js' | asset_url | script_tag }}
  {{ 'shuffle-dom-siblings.js' | asset_url | script_tag }}
  {{ 'popout-cart.js' | asset_url | script_tag  }}
  
  <style>
    .dark-overlay {
      display: none;
      height: 100vh;
      width: 100%;
      background: rgba(0, 0, 0, 0.5);
      position: fixed;
      opacity: 1;
      top: 0;
      transition: 0.6s;
    }
  </style>
</body>
</html>