<div 
  data-section-id="{{ section.id }}" 
  data-section-type="product"
  data-enable-history-state="true" 
  itemscope 
  itemtype="http://schema.org/Product"
>
  {%- assign current_variant = product.selected_or_first_available_variant -%}
  {%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}

  <meta itemprop="name" content="{{ product.title }}{% unless product.has_only_default_variant %} - {{ current_variant.title }}{% endunless %}">
  <meta itemprop="url" content="{{ shop.url }}{{ current_variant.url }}">
  <meta itemprop="brand" content="{{ product.vendor }}">
  <meta itemprop="image" content="{{ featured_image | img_url: '600x600' }}">
  <meta itemprop="description" content="{{ product.description | strip_html | escape }}">

  <div class="product--container">
    <div class="product--block">
      <div class="product--block--left product-image">
        <div class="product-image__thumbnails">
          {% for image in product.images %}
            <a href="{{ image.src | img_url: '800x' }}" class="product-image__thumbnail" data-product-single-thumbnail>
              <img src="{{ image.src | img_url: '128x128' }}" alt="{{ image.alt }}"/>
            </a>
          {% endfor %}
        </div>

        <div class="product-image__featured">
          <img src="{{ featured_image | img_url: '800x' }}" data-product-featured-image/>
        </div>
      </div>

      <div class="product--block--right product--form--container">
        {% include 'product--normal--form' %}
        {% include 'product-toggle' %}  
      </div>
    </div>
  </div>

  {% unless product == empty %}
    <script type="application/json" data-product-json>{{ product | json }}</script>
  {% endunless %}
</div>

{% schema %}
{
  "name": "Product pages",
  "settings": [{
    "type": "checkbox",
    "id": "show_share_buttons",
    "label": "Show social sharing buttons",
    "default": true
  }]
}
{% endschema %}