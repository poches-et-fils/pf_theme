{%- comment -%}

Handles Product Grid in Collections. 

Need to add background color.
Also need to complete the image for sweatshirts etc.
{%- endcomment -%}




<div class="section--products" data-section-id="{{ section.id }}" data-section-type="collection-custom-section">


{% if section.settings.title != blank %}
 
    <h1 class="section--title--heading bold--caps">{{ section.settings.title | escape }}</h1>


{% endif %}

{%- assign collection = collections[section.settings.collection] -%}

    <div class="product--grid--block">


    {% for product in collection.products limit: 4 %}


    {% if product.type == 'Pocket' %}
       {%- comment -%} for t-shirt products {%- endcomment -%}
      
      {% include 'pocket--grid--item' %}
      

    {%else%}

         {%- comment -%} for other products {%- endcomment -%}
      
      <div class="product--grid--item--four">
           <a href="{{ product.url | within: collection }}">
        <div class="product--grid--item--image "
             style="background-image: url(' {{ product.featured_image.src | img_url: '480x480' }}') ">  </div>
        <h5 class="product--grid--item--title">{{product.title}}</h5> </a>
        <div>  {{ product.price | money }}</div>
        <a href="{{ product.url | within: collection }}" class="product--grid--item--link">See more styles</a>
        </div>
      {%endif%}
{%endfor%}
     </div>
    
  </div> 



{% schema %}
  {
    "name": "Featured collection",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Featured collection"
      },
      {
        "id": "collection",
        "type": "collection",
        "label": "Collection"
      }
    ],
    "presets": [
      {
        "name": "Featured collection",
        "category": "Elements"
      }
    ]
  }

{% endschema %}
